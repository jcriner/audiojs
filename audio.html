<!DOCTYPE html>
<html>
  <head>
    <script src="audio.js"></script>
  </head>
  <body>
    <h1>Placeholder text.</h1>
    <div class="controls">
      <input id="start" type="button" value="Start" />
      <input id="stop" type="button" value="Stop" />
      Mute
      <input id="mute-button" type="checkbox" value="Mute" />
      Volume
      <input id="vol-slider" type="range" value="1" min="0" max="1" step="0.01" />
      Pitch
      <input id="pitch-slider" type="range" value="400" min="100" max="800" />

      <script>
        var noisemaker = new Noisemaker();
        
        var startButton = document.getElementById("start");
        startButton.addEventListener("click", function() {
            noisemaker.start();
            }, false);
        
        var stopButton = document.getElementById("stop");
        var stopped = false;
        stopButton.addEventListener("click", function() {
              if (!stopped) {
                noisemaker.stop();
                stopped = true;
              } else { alert("Can only stop the audio once!"); }
            }, false);

        var muteButton = document.getElementById("mute-button");
        muteButton.addEventListener("click", function() {
              // If checked, audio was just muted.
              if (muteButton.checked) {
                  noisemaker.mute();
              } else { noisemaker.unmute(); }
            }, false);

        var volSlider = document.getElementById("vol-slider");
        volSlider.addEventListener("change", function() {
             noisemaker.setVolume(volSlider.value);
          }, false);

        var pitchSlider = document.getElementById("pitch-slider");
        pitchSlider.addEventListener("change", function() {
             noisemaker.setFrequency(pitchSlider.value);
          }, false);
      </script>
    </div>
  </body>
</html>
